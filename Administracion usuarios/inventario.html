<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>Inventario</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<!-- Google Fonts Montserrat -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&display=swap" rel="stylesheet">

<style>
:root{
 --dark:#0B090A;
 --dark-soft:#161A1D;
 --red-dark:#660708;
 --red-main:#A4161A;
 --red-strong:#BA181B;
 --gray-1:#B1A7A6;
 --gray-2:#D3D3D3;
 --gray-3:#F5F3F4;
 --white:#FFFFFF;
}

/* TIPOGRAFÍAS */
h4 { font-family: 'Montserrat', sans-serif; }
h5 { font-family: Arial, sans-serif; font-weight:600; }
label { font-family: Helvetica, sans-serif; font-weight: normal; }
body, input, textarea, select, button, table, td, th { font-family: Helvetica, sans-serif; }

/* BODY */
body{
 background:var(--gray-3);
}

/* NAVBAR */
.navbar{
  background:var(--white);
  border-bottom:4px solid var(--red-main);
}
.title{
  color:var(--red-dark);
  font-weight:600;
}

/* CARDS */
.card{
 border:none;
 background:#fff;
 border-radius:15px;
 box-shadow:0 4px 12px rgba(0,0,0,.08);
}

/* INPUTS */
.form-control{
 border-radius:10px;
}
.form-control:focus{
 border-color:var(--red-main);
 box-shadow:0 0 0 .15rem rgba(164,22,26,.25);
}

/* BUTTONS */
.btn-pill{
  background:var(--red-main);
  color:var(--white);
  border:none;
  border-radius:30px;
  padding:8px 22px;
  font-weight:600;
}
.btn-pill:hover{
 background:var(--red-dark);
}

.btn-edit{
 background:var(--red-main);
 color:#fff;
 border:none;
}
.btn-edit:hover{ background:var(--red-dark); }

.btn-delete{
 background:var(--dark-soft);
 color:#fff;
 border:none;
}
.btn-delete:hover{ background:var(--dark); }

/* TABLE */
.table thead{
 background:var(--dark-soft);
 color:#fff;
}

.table th,
.table td{
 vertical-align:middle;
}
</style>
</head>

<body>
 
<!-- NAVBAR -->
<nav class="navbar p-3">
  <div class="container">
    <h4 class="title mb-0">
      <i class="fa-solid fa-boxes-stacked"></i> Inventario
    </h4>
  </div>
</nav>

<div class="container mt-4">

<!-- FORM -->
<div class="card p-4 mb-4">

<h5 class="mb-3">Registro de Inventario</h5>

<form id="formInventario" class="row g-3">

<input type="hidden" id="editIndex"/>

<div class="col-md-4">
<label>ID del artículo</label>
<input type="text" class="form-control" id="idArticulo" required>
</div>

<div class="col-md-4">
<label>Artículo</label>
<input type="text" class="form-control" id="articulo" required>
</div>

<div class="col-md-4">
<label>Cantidad</label>
<input type="number" class="form-control" id="cantidad" required min="1">
</div>

<div class="col-12 text-center mt-3">
<button class="btn btn-pill">Registrar producto</button>
</div>

</form>

</div>

<!-- TABLE -->
<div class="card p-4">

<h5 class="mb-3">Inventario actual</h5>

<div class="table-responsive">

<table class="table table-hover">

<thead>
<tr>
<th>ID</th>
<th>Artículo</th>
<th>Cantidad</th>
<th>Acciones</th>
</tr>
</thead>

<tbody id="tablaInventario"></tbody>

</table>

</div>

</div>

</div>

<script>
const form=document.getElementById("formInventario");
const tabla=document.getElementById("tablaInventario");

let inventario=[
 {id:"R001", articulo:"Filtro de aceite", cantidad:15},
 {id:"R002", articulo:"Pastillas de freno", cantidad:25},
 {id:"R003", articulo:"Batería 12V", cantidad:8}
];

function render(){
 tabla.innerHTML="";
 inventario.forEach((i,index)=>{
 tabla.innerHTML+=`
<tr>
<td>${i.id}</td>
<td>${i.articulo}</td>
<td>${i.cantidad}</td>
<td>
<button class="btn btn-sm btn-edit" onclick="editar(${index})">Editar</button>
<button class="btn btn-sm btn-delete" onclick="eliminar(${index})">Eliminar</button>
</td>
</tr>
`;
});
}

form.addEventListener("submit",e=>{
 e.preventDefault();

 let data={
  id:idArticulo.value,
  articulo:articulo.value,
  cantidad:cantidad.value
 };

 if(editIndex.value===""){
  inventario.push(data);
 } else {
  inventario[editIndex.value]=data;
  editIndex.value="";
 }

 form.reset();
 render();
});

function editar(index){
 let p=inventario[index];

 idArticulo.value=p.id;
 articulo.value=p.articulo;
 cantidad.value=p.cantidad;

 editIndex.value=index;
}

function eliminar(index){
 if(confirm("¿Eliminar producto del inventario?")){
  inventario.splice(index,1);
  render();
 }
}

render();
</script>

</body>
</html>
